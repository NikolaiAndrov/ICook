@model CreateRecipeInputModel

<div class="text-center">
	<h1 class="display-6">Add new recipe</h1>
</div>
<hr />

<form method="post" enctype="multipart/form-data">

	<div asp-validation-summary="All"></div>

	<div class="col-md-4 offset-4">
		<label asp-for="Name"></label>
		<input asp-for="Name" class="form-control" />
		<span asp-validation-for="Name" class="text-danger"></span>
	</div>

	<div class="col-md-4 offset-4">
		<label asp-for="PreparationTime"></label>
		<input asp-for="PreparationTime" class="form-control" />
		<span asp-validation-for="PreparationTime" class="text-danger"></span>
	</div>

	<div class="col-md-4 offset-4">
		<label asp-for="CookingTime"></label>
		<input asp-for="CookingTime" class="form-control" />
		<span asp-validation-for="CookingTime" class="text-danger"></span>
	</div>

	<div class="col-md-4 offset-4">
		<label asp-for="PortionsCount"></label>
		<input asp-for="PortionsCount" class="form-control" />
		<span asp-validation-for="PortionsCount" class="text-danger"></span>
	</div>

	<div class="col-md-4 offset-4">
		<label asp-for="CategoryId"></label>
		<select asp-for="CategoryId" class="form-control">
			@foreach (var category in Model.Categories)
			{
				<option value="@category.Id">@category.Name</option>
			}
		</select>
		<span asp-validation-for="CategoryId" class="text-danger"></span>
	</div>

	<div class="col-md-4 offset-4" id="IngredientsContainer">
		<a class="btn btn-outline-primary" onclick="AddIngredients()">Add Ingredients</a>
	</div>

	<div class="col-md-4 offset-4">
		<label asp-for="Instructions"></label>
		<textarea asp-for="Instructions" class="form-control" rows="5"></textarea>
		<span asp-validation-for="Instructions" class="text-danger"></span>
	</div>

	<div class="col-md-4 offset-4">
		<label asp-for="Images"></label>
		<input asp-for="Images" class="form-control" />
		<span asp-validation-for="Images" class="text-danger"></span>
	</div>

	<div class="col-md-4 offset-4 mt-3">
		<input type="submit" class="btn btn-outline-primary"/>
	</div>

</form>

@section Scripts {
	<script>
		var index = 0;
		function AddIngredients() {
			$("#IngredientsContainer")
				.append("<div class='form-control'> Name <input class='form-control' type='text' name='Ingredients["+index+"].Name'/> Quantity <input class='form-control' type='text' name='Ingredients["+index+"].Quantity'/><div/>");
			index++;
		}
	</script>
}